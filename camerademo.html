<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>身分証撮影アプリ</title>
   <style>
.camera-container {
    position: relative;
    width: 100%;
    max-width: 800px;
   
  }
video {
  
   width: 100%;
   
}
.guide-frame {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);

  width: 60%;
  
  pointer-events: none; /* ガイド枠がクリックを妨げないようにする */
}
#photo {
        height: 200px;
      }
   </style>
  </head>
  <body>
    <div class="camera-container">
      <video id="video" autoplay muted playsinline></video>
      <div>
        <img class="guide-frame" src="maruma-ku-illust3.png" alt="ガイド" />
      </div>
    </div>
    <button id="capture">撮影</button>
    <canvas id="canvas" style="display: none"></canvas>
<div>
      <img id="photo" alt="撮影した画像" />
    </div>

    <script>
    
navigator.mediaDevices
  .getUserMedia({ video: true })
  .then((stream) => {
    const video = document.getElementById("video");
    video.srcObject = stream;
  })
  .catch((error) => {
    console.error("カメラにアクセスできませんでした:", error);
  });



document.getElementById("capture").addEventListener("click", () => {
  const canvas = document.getElementById("canvas");
  const video = document.getElementById("video");
  canvas.width = video.videoWidth;
  canvas.height = video.videoHeight;
  const context = canvas.getContext("2d");
  context.drawImage(video, 0, 0, canvas.width, canvas.height);
 
  const dataURL = canvas.toDataURL("image/png");
  
  let photo = document.getElementById("photo");
        photo.setAttribute("src", dataURL);
});

    </script>
  </body>
</html>


